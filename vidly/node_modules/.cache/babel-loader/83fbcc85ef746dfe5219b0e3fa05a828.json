{"ast":null,"code":"import jwtDecode from 'jwt-decode';\nimport axios from 'axios';\nimport api from '../config.json';\nconst tokenKey = 'token';\nexport async function login(email, password) {\n  const {\n    data: jwt\n  } = axios.post(api.AUTH_API, {\n    email,\n    password\n  });\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\nexport default {\n  login,\n  logout,\n  getUser,\n  loginWithJwt\n};","map":{"version":3,"sources":["C:/Users/NZY/Desktop/vidly/start/vidly/src/services/authService.js"],"names":["jwtDecode","axios","api","tokenKey","login","email","password","data","jwt","post","AUTH_API","localStorage","setItem","loginWithJwt","logout","removeItem","getUser","getItem","ex"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,MAAMC,QAAQ,GAAG,OAAjB;AAEA,OAAO,eAAeC,KAAf,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsC;AAC3C,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAgBP,KAAK,CAACQ,IAAN,CAAWP,GAAG,CAACQ,QAAf,EAAyB;AAAEL,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAzB,CAAtB;AACAK,EAAAA,YAAY,CAACC,OAAb,CAAqBT,QAArB,EAA+BK,GAA/B;AACD;AAED,OAAO,SAASK,YAAT,CAAsBL,GAAtB,EAA2B;AAChCG,EAAAA,YAAY,CAACC,OAAb,CAAqBT,QAArB,EAA+BK,GAA/B;AACD;AAED,OAAO,SAASM,MAAT,GAAkB;AACvBH,EAAAA,YAAY,CAACI,UAAb,CAAwBZ,QAAxB;AACD;AAED,OAAO,SAASa,OAAT,GAAmB;AACxB,MAAI;AACF,UAAMR,GAAG,GAAGG,YAAY,CAACM,OAAb,CAAqBd,QAArB,CAAZ;AACA,WAAOH,SAAS,CAACQ,GAAD,CAAhB;AACD,GAHD,CAGE,OAAOU,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF;AAED,eAAe;AACbd,EAAAA,KADa;AAEbU,EAAAA,MAFa;AAGbE,EAAAA,OAHa;AAIbH,EAAAA;AAJa,CAAf","sourcesContent":["import jwtDecode from 'jwt-decode'\r\nimport axios from 'axios'\r\nimport api from '../config.json'\r\n\r\nconst tokenKey = 'token'\r\n\r\nexport async function login(email, password) {\r\n  const { data: jwt } = axios.post(api.AUTH_API, { email, password })\r\n  localStorage.setItem(tokenKey, jwt)\r\n}\r\n\r\nexport function loginWithJwt(jwt) {\r\n  localStorage.setItem(tokenKey, jwt)\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(tokenKey)\r\n}\r\n\r\nexport function getUser() {\r\n  try {\r\n    const jwt = localStorage.getItem(tokenKey)\r\n    return jwtDecode(jwt)\r\n  } catch (ex) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default {\r\n  login,\r\n  logout,\r\n  getUser,\r\n  loginWithJwt,\r\n}\r\n"]},"metadata":{},"sourceType":"module"}