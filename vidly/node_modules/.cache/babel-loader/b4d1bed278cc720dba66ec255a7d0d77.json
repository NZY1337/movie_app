{"ast":null,"code":"import axios from 'axios';\nimport api from '../config.json';\nexport async function login(email, password) {\n  const {\n    data: jwt\n  } = axios.post(api.AUTH_API, {\n    email,\n    password\n  });\n  localStorage.setItem('token', jwt);\n}\nexport function logout() {\n  localStorage.removeItem('token');\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem('token');\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\nexport default {\n  login,\n  logout\n};","map":{"version":3,"sources":["C:/Users/NZY/Desktop/vidly/start/vidly/src/services/authService.js"],"names":["axios","api","login","email","password","data","jwt","post","AUTH_API","localStorage","setItem","logout","removeItem","getCurrentUser","getItem","jwtDecode","ex"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,OAAO,eAAeC,KAAf,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsC;AAC3C,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAgBN,KAAK,CAACO,IAAN,CAAWN,GAAG,CAACO,QAAf,EAAyB;AAAEL,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAzB,CAAtB;AACAK,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAA9B;AACD;AAED,OAAO,SAASK,MAAT,GAAkB;AACvBF,EAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACD;AAED,OAAO,SAASC,cAAT,GAA0B;AAC/B,MAAI;AACF,UAAMP,GAAG,GAAGG,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAZ;AACA,WAAOC,SAAS,CAACT,GAAD,CAAhB;AACD,GAHD,CAGE,OAAOU,EAAP,EAAW;AACX,WAAO,IAAP;AACD;AACF;AAED,eAAe;AACbd,EAAAA,KADa;AAEbS,EAAAA;AAFa,CAAf","sourcesContent":["import axios from 'axios'\r\nimport api from '../config.json'\r\n\r\nexport async function login(email, password) {\r\n  const { data: jwt } = axios.post(api.AUTH_API, { email, password })\r\n  localStorage.setItem('token', jwt)\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem('token')\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const jwt = localStorage.getItem('token')\r\n    return jwtDecode(jwt)\r\n  } catch (ex) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default {\r\n  login,\r\n  logout,\r\n}\r\n"]},"metadata":{},"sourceType":"module"}