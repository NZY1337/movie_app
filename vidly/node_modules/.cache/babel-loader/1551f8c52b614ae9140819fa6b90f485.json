{"ast":null,"code":"import { Globals } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { eachProp, is, toArray, FluidValue, each, getFluidValue, hasFluidValue, addFluidObserver, removeFluidObserver, callFluidObservers, createStringInterpolator, colors } from '@react-spring/shared';\nimport { AnimatedObject, createHost } from '@react-spring/animated';\nconst isCustomPropRE = /^--/;\n\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === \"boolean\" || value === \"\") return \"\";\n  if (typeof value === \"number\" && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + \"px\";\n  return (\"\" + value).trim();\n}\n\nconst attributeCache = {};\n\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n\n  const isFilterElement = instance.nodeName === \"filter\" || instance.parentNode && instance.parentNode.nodeName === \"filter\";\n  const {\n    style,\n    children,\n    scrollTop,\n    scrollLeft,\n    ...attributes\n  } = props;\n  const values = Object.values(attributes);\n  const names = Object.keys(attributes).map(name => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, n => \"-\" + n.toLowerCase())));\n\n  if (children !== void 0) {\n    instance.textContent = children;\n  }\n\n  for (let name in style) {\n    if (style.hasOwnProperty(name)) {\n      const value = dangerousStyleValue(name, style[name]);\n      if (name === \"float\") name = \"cssFloat\";else if (isCustomPropRE.test(name)) {\n        instance.style.setProperty(name, value);\n      } else {\n        instance.style[name] = value;\n      }\n    }\n  }\n\n  names.forEach((name, i) => {\n    instance.setAttribute(name, values[i]);\n  });\n\n  if (scrollTop !== void 0) {\n    instance.scrollTop = scrollTop;\n  }\n\n  if (scrollLeft !== void 0) {\n    instance.scrollLeft = scrollLeft;\n  }\n}\n\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = [\"Webkit\", \"Ms\", \"Moz\", \"O\"];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\nconst domTransforms = /^(matrix|translate|scale|rotate|skew)/;\nconst pxTransforms = /^(translate)/;\nconst degTransforms = /^(rotate|skew)/;\n\nconst addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\n\nconst isValueIdentity = (value, id) => is.arr(value) ? value.every(v => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\n\nclass AnimatedStyle extends AnimatedObject {\n  constructor({\n    x,\n    y,\n    z,\n    ...style\n  }) {\n    const inputs = [];\n    const transforms = [];\n\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push(xyz => [`translate3d(${xyz.map(v => addUnit(v, \"px\")).join(\",\")})`, isValueIdentity(xyz, 0)]);\n    }\n\n    eachProp(style, (value, key) => {\n      if (key === \"transform\") {\n        inputs.push([value || \"\"]);\n        transforms.push(transform => [transform, transform === \"\"]);\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        const unit = pxTransforms.test(key) ? \"px\" : degTransforms.test(key) ? \"deg\" : \"\";\n        inputs.push(toArray(value));\n        transforms.push(key === \"rotate3d\" ? ([x2, y2, z2, deg]) => [`rotate3d(${x2},${y2},${z2},${addUnit(deg, unit)})`, isValueIdentity(deg, 0)] : input => [`${key}(${input.map(v => addUnit(v, unit)).join(\",\")})`, isValueIdentity(input, key.startsWith(\"scale\") ? 1 : 0)]);\n      }\n    });\n\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n\n    super(style);\n  }\n\n}\n\nclass FluidTransform extends FluidValue {\n  constructor(inputs, transforms) {\n    super();\n    this.inputs = inputs;\n    this.transforms = transforms;\n    this._value = null;\n  }\n\n  get() {\n    return this._value || (this._value = this._get());\n  }\n\n  _get() {\n    let transform = \"\";\n    let identity = true;\n    each(this.inputs, (input, i) => {\n      const arg1 = getFluidValue(input[0]);\n      const [t, id] = this.transforms[i](is.arr(arg1) ? arg1 : input.map(getFluidValue));\n      transform += \" \" + t;\n      identity = identity && id;\n    });\n    return identity ? \"none\" : transform;\n  }\n\n  observerAdded(count) {\n    if (count == 1) each(this.inputs, input => each(input, value => hasFluidValue(value) && addFluidObserver(value, this)));\n  }\n\n  observerRemoved(count) {\n    if (count == 0) each(this.inputs, input => each(input, value => hasFluidValue(value) && removeFluidObserver(value, this)));\n  }\n\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._value = null;\n    }\n\n    callFluidObservers(this, event);\n  }\n\n}\n\nconst primitives = [\"a\", \"abbr\", \"address\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"bdi\", \"bdo\", \"big\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"cite\", \"code\", \"col\", \"colgroup\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"img\", \"input\", \"ins\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"nav\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"pre\", \"progress\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"small\", \"source\", \"span\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"u\", \"ul\", \"var\", \"video\", \"wbr\", \"circle\", \"clipPath\", \"defs\", \"ellipse\", \"foreignObject\", \"g\", \"image\", \"line\", \"linearGradient\", \"mask\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialGradient\", \"rect\", \"stop\", \"svg\", \"text\", \"tspan\"];\nGlobals.assign({\n  batchedUpdates: unstable_batchedUpdates,\n  createStringInterpolator,\n  colors\n});\nconst host = createHost(primitives, {\n  applyAnimatedValues: applyAnimatedValues,\n  createAnimatedStyle: style => new AnimatedStyle(style),\n  getComponentProps: ({\n    scrollTop,\n    scrollLeft,\n    ...props\n  }) => props\n});\nconst animated = host.animated;\nexport { animated as a, animated };","map":{"version":3,"sources":["src/applyAnimatedValues.ts","src/AnimatedStyle.ts","src/primitives.ts","src/index.ts"],"names":["primitives2","AnimatedStyle2"],"mappings":";;;;;AAEA,MAAM,cAAA,GAAiB,KAAvB;;AAIA,SAAA,mBAAA,CAAA,IAAA,EAAA,KAAA,EAAA;AACE,MAAI,KAAA,IAAS,IAAT,IAAiB,OAAO,KAAP,KAAiB,SAAlC,IAA+C,KAAA,KAAU,EAA7D,EAAiE,OAAO,EAAP;AACjE,MACE,OAAO,KAAP,KAAiB,QAAjB,IACA,KAAA,KAAU,CADV,IAEA,CAAC,cAAA,CAAe,IAAf,CAAoB,IAApB,CAFD,IAGA,EAAA,gBAAA,CAAmB,cAAnB,CAAkC,IAAlC,KAA2C,gBAAA,CAAiB,IAAjB,CAA3C,CAJF,EAME,OAAO,KAAA,GAAQ,IAAf;AAEF,SAAQ,CAAA,KAAK,KAAL,EAAY,IAAZ,EAAR;AAAoB;;AAGtB,MAAA,cAAA,GAAuC,EAAvC;;;AAKE,MAAI,CAAC,QAAA,CAAS,QAAV,IAAsB,CAAC,QAAA,CAAS,YAApC,EAAoC;AAClC,WAAO,KAAP;AAAO;;AAGT,QAAA,eAAA,GACE,QAAA,CAAS,QAAT,KAAsB,QAAtB,IACC,QAAA,CAAS,UAAT,IAAuB,QAAA,CAAS,UAAT,CAAoB,QAApB,KAAiC,QAF3D;AAIA,QAAA;AAAQ,IAAA,KAAR;AAAe,IAAA,QAAf;AAAyB,IAAA,SAAzB;AAAoC,IAAA,UAApC;AAAoC,OAAA;AAApC,MAAkE,KAAlE;AAEA,QAAA,MAAA,GAAe,MAAA,CAAO,MAAP,CAAc,UAAd,CAAf;AACA,QAAA,KAAA,GAAc,MAAA,CAAO,IAAP,CAAY,UAAZ,EAAwB,GAAxB,CAA4B,IAAA,IACxC,eAAA,IAAmB,QAAA,CAAS,YAAT,CAAsB,IAAtB,CAAnB,GACI,IADJ,GAEI,cAAA,CAAe,IAAf,CAAA,KAAe,cAAA,CACC,IADD,CAAA,GACS,IAAA,CAAK,OAAL,CACtB,UADsB,EAGtB,CAAA,IAAK,MAAM,CAAA,CAAE,WAAF,EAHW,CADxB,CAHQ,CAAd;;AAWA,MAAI,QAAA,KAAa,KAAA,CAAjB,EAAiB;AACf,IAAA,QAAA,CAAS,WAAT,GAAuB,QAAvB;AAAuB;;AAIzB,OAAA,IAAA,IAAA,IAAiB,KAAjB,EAAiB;AACf,QAAI,KAAA,CAAM,cAAN,CAAqB,IAArB,CAAJ,EAAyB;AACvB,YAAA,KAAA,GAAc,mBAAA,CAAoB,IAApB,EAA0B,KAAA,CAAM,IAAN,CAA1B,CAAd;AACA,UAAI,IAAA,KAAS,OAAb,EAAsB,IAAA,GAAO,UAAP,CAAtB,KAA6B,IACpB,cAAA,CAAe,IAAf,CAAoB,IAApB,CADoB,EACA;AAC3B,QAAA,QAAA,CAAS,KAAT,CAAe,WAAf,CAA2B,IAA3B,EAAiC,KAAjC;AAAiC,OAFN,MAEM;AAEjC,QAAA,QAAA,CAAS,KAAT,CAAe,IAAf,IAAuB,KAAvB;AAAuB;AAAA;AAAA;;AAM7B,EAAA,KAAA,CAAM,OAAN,CAAc,CAAA,IAAA,EAAA,CAAA,KAAA;AACZ,IAAA,QAAA,CAAS,YAAT,CAAsB,IAAtB,EAA4B,MAAA,CAAO,CAAP,CAA5B;AAAmC,GADrC;;AAIA,MAAI,SAAA,KAAc,KAAA,CAAlB,EAAkB;AAChB,IAAA,QAAA,CAAS,SAAT,GAAqB,SAArB;AAAqB;;AAEvB,MAAI,UAAA,KAAe,KAAA,CAAnB,EAAmB;AACjB,IAAA,QAAA,CAAS,UAAT,GAAsB,UAAtB;AAAsB;AAAA;;AAI1B,IAAA,gBAAA,GAAgD;AAC9C,EAAA,uBAAA,EAAyB,IADqB;AAE9C,EAAA,iBAAA,EAAmB,IAF2B;AAG9C,EAAA,gBAAA,EAAkB,IAH4B;AAI9C,EAAA,gBAAA,EAAkB,IAJ4B;AAK9C,EAAA,OAAA,EAAS,IALqC;AAM9C,EAAA,YAAA,EAAc,IANgC;AAO9C,EAAA,eAAA,EAAiB,IAP6B;AAQ9C,EAAA,WAAA,EAAa,IARiC;AAS9C,EAAA,OAAA,EAAS,IATqC;AAU9C,EAAA,IAAA,EAAM,IAVwC;AAW9C,EAAA,QAAA,EAAU,IAXoC;AAY9C,EAAA,YAAA,EAAc,IAZgC;AAa9C,EAAA,UAAA,EAAY,IAbkC;AAc9C,EAAA,YAAA,EAAc,IAdgC;AAe9C,EAAA,SAAA,EAAW,IAfmC;AAgB9C,EAAA,OAAA,EAAS,IAhBqC;AAiB9C,EAAA,UAAA,EAAY,IAjBkC;AAkB9C,EAAA,WAAA,EAAa,IAlBiC;AAmB9C,EAAA,YAAA,EAAc,IAnBgC;AAoB9C,EAAA,UAAA,EAAY,IApBkC;AAqB9C,EAAA,aAAA,EAAe,IArB+B;AAsB9C,EAAA,cAAA,EAAgB,IAtB8B;AAuB9C,EAAA,eAAA,EAAiB,IAvB6B;AAwB9C,EAAA,UAAA,EAAY,IAxBkC;AAyB9C,EAAA,SAAA,EAAW,IAzBmC;AA0B9C,EAAA,UAAA,EAAY,IA1BkC;AA2B9C,EAAA,OAAA,EAAS,IA3BqC;AA4B9C,EAAA,KAAA,EAAO,IA5BuC;AA6B9C,EAAA,OAAA,EAAS,IA7BqC;AA8B9C,EAAA,OAAA,EAAS,IA9BqC;AA+B9C,EAAA,MAAA,EAAQ,IA/BsC;AAgC9C,EAAA,MAAA,EAAQ,IAhCsC;AAiC9C,EAAA,IAAA,EAAM,IAjCwC;AAmC9C,EAAA,WAAA,EAAa,IAnCiC;AAoC9C,EAAA,YAAA,EAAc,IApCgC;AAqC9C,EAAA,WAAA,EAAa,IArCiC;AAsC9C,EAAA,eAAA,EAAiB,IAtC6B;AAuC9C,EAAA,gBAAA,EAAkB,IAvC4B;AAwC9C,EAAA,gBAAA,EAAkB,IAxC4B;AAyC9C,EAAA,aAAA,EAAe,IAzC+B;AA0C9C,EAAA,WAAA,EAAa;AA1CiC,CAAhD;;AA6CA,MAAA,SAAA,GAAkB,CAAA,MAAA,EAAA,GAAA,KAChB,MAAA,GAAS,GAAA,CAAI,MAAJ,CAAW,CAAX,EAAc,WAAd,EAAT,GAAuC,GAAA,CAAI,SAAJ,CAAc,CAAd,CADzC;;AAEA,MAAA,QAAA,GAAiB,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,EAAwB,GAAxB,CAAjB;AAEA,gBAAA,GAAmB,MAAA,CAAO,IAAP,CAAY,gBAAZ,EAA8B,MAA9B,CAAqC,CAAA,GAAA,EAAA,IAAA,KAAA;AACtD,EAAA,QAAA,CAAS,OAAT,CAAiB,MAAA,IAAW,GAAA,CAAI,SAAA,CAAU,MAAV,EAAkB,IAAlB,CAAJ,CAAA,GAA+B,GAAA,CAAI,IAAJ,CAA3D;AACA,SAAO,GAAP;AAAO,CAFU,EAGhB,gBAHgB,CAAnB;ACvGA,MAAM,aAAA,GAAgB,uCAAtB;AAGA,MAAA,YAAA,GAAqB,cAArB;AAGA,MAAA,aAAA,GAAsB,gBAAtB;;AAKA,MAAA,OAAA,GAAgB,CAAA,KAAA,EAAA,IAAA,KACd,EAAA,CAAG,GAAH,CAAO,KAAP,KAAiB,KAAA,KAAU,CAA3B,GAA+B,KAAA,GAAQ,IAAvC,GAA8C,KADhD;;AAUA,MAAA,eAAA,GAAwB,CAAA,KAAA,EAAA,EAAA,KACtB,EAAA,CAAG,GAAH,CAAO,KAAP,IACI,KAAA,CAAM,KAAN,CAAY,CAAA,IAAK,eAAA,CAAgB,CAAhB,EAAmB,EAAnB,CAAjB,CADJ,GAEI,EAAA,CAAG,GAAH,CAAO,KAAP,IACA,KAAA,KAAU,EADV,GAEA,UAAA,CAAW,KAAX,CAAA,KAAsB,EAL5B;;4BAemC,c,CAAA;AACjC,EAAA,WAAA,CAAA;AAAc,IAAA,CAAd;AAAiB,IAAA,CAAjB;AAAoB,IAAA,CAApB;AAAoB,OAAA;AAApB,GAAA,EAAoB;AAKlB,UAAA,MAAA,GAAuB,EAAvB;AAMA,UAAA,UAAA,GAA+B,EAA/B;;AAGA,QAAI,CAAA,IAAK,CAAL,IAAU,CAAd,EAAc;AACZ,MAAA,MAAA,CAAO,IAAP,CAAY,CAAC,CAAA,IAAK,CAAN,EAAS,CAAA,IAAK,CAAd,EAAiB,CAAA,IAAK,CAAtB,CAAZ;AACA,MAAA,UAAA,CAAW,IAAX,CAAgB,GAAA,IAAkB,CAChC,eAAe,GAAA,CAAI,GAAJ,CAAQ,CAAA,IAAK,OAAA,CAAQ,CAAR,EAAW,IAAX,CAAb,EAA+B,IAA/B,CAAoC,GAApC,CAAoC,GADnB,EAEhC,eAAA,CAAgB,GAAhB,EAAqB,CAArB,CAFgC,CAAlC;AAEuB;;AAKzB,IAAA,QAAA,CAAS,KAAT,EAAgB,CAAA,KAAA,EAAA,GAAA,KAAA;AACd,UAAI,GAAA,KAAQ,WAAZ,EAAY;AACV,QAAA,MAAA,CAAO,IAAP,CAAY,CAAC,KAAA,IAAS,EAAV,CAAZ;AACA,QAAA,UAAA,CAAW,IAAX,CAAgB,SAAA,IAAuB,CAAC,SAAD,EAAY,SAAA,KAAc,EAA1B,CAAvC;AAAiE,OAFnE,MAEmE,IACxD,aAAA,CAAc,IAAd,CAAmB,GAAnB,CADwD,EACrC;AAC5B,eAAO,KAAA,CAAM,GAAN,CAAP;AACA,YAAI,EAAA,CAAG,GAAH,CAAO,KAAP,CAAJ,EAAmB;AAEnB,cAAA,IAAA,GAAa,YAAA,CAAa,IAAb,CAAkB,GAAlB,IACT,IADS,GAET,aAAA,CAAc,IAAd,CAAmB,GAAnB,IACA,KADA,GAEA,EAJJ;AAMA,QAAA,MAAA,CAAO,IAAP,CAAY,OAAA,CAAQ,KAAR,CAAZ;AACA,QAAA,UAAA,CAAW,IAAX,CACE,GAAA,KAAQ,UAAR,GACI,CAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,CAAA,KAAqD,CACnD,YAAY,EAAA,IAAK,EAAA,IAAK,EAAA,IAAK,OAAA,CAAQ,GAAR,EAAa,IAAb,CAAa,GADW,EAEnD,eAAA,CAAgB,GAAhB,EAAqB,CAArB,CAFmD,CADzD,GAKI,KAAA,IAAoB,CAClB,GAAG,GAAA,IAAO,KAAA,CAAM,GAAN,CAAU,CAAA,IAAK,OAAA,CAAQ,CAAR,EAAW,IAAX,CAAf,EAAiC,IAAjC,CAAsC,GAAtC,CAAsC,GAD9B,EAElB,eAAA,CAAgB,KAAhB,EAAuB,GAAA,CAAI,UAAJ,CAAe,OAAf,IAA0B,CAA1B,GAA8B,CAArD,CAFkB,CAN1B;AAQ6D;AAAA,KAvBjE,CAAA;;AA6BA,QAAI,MAAA,CAAO,MAAX,EAAW;AACT,MAAA,KAAA,CAAM,SAAN,GAAkB,IAAI,cAAJ,CAAmB,MAAnB,EAA2B,UAA3B,CAAlB;AAA6C;;AAG/C,UAAM,KAAN;AAAM;;AAzDyB;;AA1DnC,MAAA,cAAA,SAwH6B,UAxH7B,CAwH6B;AAG3B,EAAA,WAAA,CAAA,MAAA,EAAA,UAAA,EAAA;AACE;AADmB,SAAA,MAAA,GAAA,MAAA;AAAyB,SAAA,UAAA,GAAA,UAAA;AAFpC,SAAA,MAAA,GAAwB,IAAxB;AAAwB;;AAMlC,EAAA,GAAA,GAAA;AACE,WAAO,KAAK,MAAL,KAAK,KAAgB,MAAhB,GAAyB,KAAK,IAAL,EAA9B,CAAP;AAA0C;;AAGlC,EAAA,IAAA,GAAA;AACR,QAAA,SAAA,GAAgB,EAAhB;AACA,QAAA,QAAA,GAAe,IAAf;AACA,IAAA,IAAA,CAAK,KAAK,MAAV,EAAkB,CAAA,KAAA,EAAA,CAAA,KAAA;AAChB,YAAA,IAAA,GAAa,aAAA,CAAc,KAAA,CAAM,CAAN,CAAd,CAAb;AACA,YAAA,CAAA,CAAA,EAAA,EAAA,IAAgB,KAAK,UAAL,CAAgB,CAAhB,EACd,EAAA,CAAG,GAAH,CAAO,IAAP,IAAe,IAAf,GAAsB,KAAA,CAAM,GAAN,CAAU,aAAV,CADR,CAAhB;AAGA,MAAA,SAAA,IAAa,MAAM,CAAnB;AACA,MAAA,QAAA,GAAW,QAAA,IAAY,EAAvB;AAAuB,KANzB,CAAA;AAQA,WAAO,QAAA,GAAW,MAAX,GAAoB,SAA3B;AAA2B;;AAInB,EAAA,aAAA,CAAA,KAAA,EAAA;AACR,QAAI,KAAA,IAAS,CAAb,EACE,IAAA,CAAK,KAAK,MAAV,EAAkB,KAAA,IAChB,IAAA,CACE,KADF,EAEE,KAAA,IAAS,aAAA,CAAc,KAAd,CAAA,IAAwB,gBAAA,CAAiB,KAAjB,EAAwB,IAAxB,CAFnC,CADF,CAAA;AAG6D;;AAMvD,EAAA,eAAA,CAAA,KAAA,EAAA;AACR,QAAI,KAAA,IAAS,CAAb,EACE,IAAA,CAAK,KAAK,MAAV,EAAkB,KAAA,IAChB,IAAA,CACE,KADF,EAEE,KAAA,IAAS,aAAA,CAAc,KAAd,CAAA,IAAwB,mBAAA,CAAoB,KAApB,EAA2B,IAA3B,CAFnC,CADF,CAAA;AAGgE;;AAKpE,EAAA,aAAA,CAAA,KAAA,EAAA;AACE,QAAI,KAAA,CAAM,IAAN,IAAc,QAAlB,EAAkB;AAChB,WAAK,MAAL,GAAc,IAAd;AAAc;;AAEhB,IAAA,kBAAA,CAAmB,IAAnB,EAAyB,KAAzB,CAAA;AAAyB;;AAnDA;;MCvHhB,UAAA,GAA2B,CACtC,GADsC,EAEtC,MAFsC,EAGtC,SAHsC,EAItC,MAJsC,EAKtC,SALsC,EAMtC,OANsC,EAOtC,OAPsC,EAQtC,GARsC,EAStC,MATsC,EAUtC,KAVsC,EAWtC,KAXsC,EAYtC,KAZsC,EAatC,YAbsC,EActC,MAdsC,EAetC,IAfsC,EAgBtC,QAhBsC,EAiBtC,QAjBsC,EAkBtC,SAlBsC,EAmBtC,MAnBsC,EAoBtC,MApBsC,EAqBtC,KArBsC,EAsBtC,UAtBsC,EAuBtC,MAvBsC,EAwBtC,UAxBsC,EAyBtC,IAzBsC,EA0BtC,KA1BsC,EA2BtC,SA3BsC,EA4BtC,KA5BsC,EA6BtC,QA7BsC,EA8BtC,KA9BsC,EA+BtC,IA/BsC,EAgCtC,IAhCsC,EAiCtC,IAjCsC,EAkCtC,OAlCsC,EAmCtC,UAnCsC,EAoCtC,YApCsC,EAqCtC,QArCsC,EAsCtC,QAtCsC,EAuCtC,MAvCsC,EAwCtC,IAxCsC,EAyCtC,IAzCsC,EA0CtC,IA1CsC,EA2CtC,IA3CsC,EA4CtC,IA5CsC,EA6CtC,IA7CsC,EA8CtC,MA9CsC,EA+CtC,QA/CsC,EAgDtC,QAhDsC,EAiDtC,IAjDsC,EAkDtC,MAlDsC,EAmDtC,GAnDsC,EAoDtC,QApDsC,EAqDtC,KArDsC,EAsDtC,OAtDsC,EAuDtC,KAvDsC,EAwDtC,KAxDsC,EAyDtC,QAzDsC,EA0DtC,OA1DsC,EA2DtC,QA3DsC,EA4DtC,IA5DsC,EA6DtC,MA7DsC,EA8DtC,MA9DsC,EA+DtC,KA/DsC,EAgEtC,MAhEsC,EAiEtC,MAjEsC,EAkEtC,UAlEsC,EAmEtC,MAnEsC,EAoEtC,OApEsC,EAqEtC,KArEsC,EAsEtC,UAtEsC,EAuEtC,QAvEsC,EAwEtC,IAxEsC,EAyEtC,UAzEsC,EA0EtC,QA1EsC,EA2EtC,QA3EsC,EA4EtC,GA5EsC,EA6EtC,OA7EsC,EA8EtC,SA9EsC,EA+EtC,KA/EsC,EAgFtC,UAhFsC,EAiFtC,GAjFsC,EAkFtC,IAlFsC,EAmFtC,IAnFsC,EAoFtC,MApFsC,EAqFtC,GArFsC,EAsFtC,MAtFsC,EAuFtC,QAvFsC,EAwFtC,SAxFsC,EAyFtC,QAzFsC,EA0FtC,OA1FsC,EA2FtC,QA3FsC,EA4FtC,MA5FsC,EA6FtC,QA7FsC,EA8FtC,OA9FsC,EA+FtC,KA/FsC,EAgGtC,SAhGsC,EAiGtC,KAjGsC,EAkGtC,OAlGsC,EAmGtC,OAnGsC,EAoGtC,IApGsC,EAqGtC,UArGsC,EAsGtC,OAtGsC,EAuGtC,IAvGsC,EAwGtC,OAxGsC,EAyGtC,MAzGsC,EA0GtC,OA1GsC,EA2GtC,IA3GsC,EA4GtC,OA5GsC,EA6GtC,GA7GsC,EA8GtC,IA9GsC,EA+GtC,KA/GsC,EAgHtC,OAhHsC,EAiHtC,KAjHsC,EAmHtC,QAnHsC,EAoHtC,UApHsC,EAqHtC,MArHsC,EAsHtC,SAtHsC,EAuHtC,eAvHsC,EAwHtC,GAxHsC,EAyHtC,OAzHsC,EA0HtC,MA1HsC,EA2HtC,gBA3HsC,EA4HtC,MA5HsC,EA6HtC,MA7HsC,EA8HtC,SA9HsC,EA+HtC,SA/HsC,EAgItC,UAhIsC,EAiItC,gBAjIsC,EAkItC,MAlIsC,EAmItC,MAnIsC,EAoItC,KApIsC,EAqItC,MArIsC,EAsItC,OAtIsC,C;ACQxC,OAAA,CAAQ,MAAR,CAAe;AACb,EAAA,cAAA,EAAgB,uBADH;AAEb,EAAA,wBAFa;AAGb,EAAA;AAHa,CAAf;AAMA,MAAM,IAAA,GAAO,UAAA,CAAWA,UAAX,EAAuB;AAClC,EAAA,mBAAA,EAAA,mBADkC;AAElC,EAAA,mBAAA,EAAqB,KAAA,IAAS,IAAIC,aAAJ,CAAkB,KAAlB,CAFI;AAGlC,EAAA,iBAAA,EAAmB,CAAA;AAAG,IAAA,SAAH;AAAc,IAAA,UAAd;AAAc,OAAA;AAAd,GAAA,KAAyC;AAH1B,CAAvB,CAAb;iBAMwB,IAAA,CAAK,Q","sourcesContent":["import { Globals } from '@react-spring/core';\r\nexport * from '@react-spring/core';\r\nimport { unstable_batchedUpdates } from 'react-dom';\r\nimport { eachProp, is, toArray, FluidValue, each, getFluidValue, hasFluidValue, addFluidObserver, removeFluidObserver, callFluidObservers, createStringInterpolator, colors } from '@react-spring/shared';\r\nimport { AnimatedObject, createHost } from '@react-spring/animated';\r\n\r\nconst isCustomPropRE = /^--/;\r\nfunction dangerousStyleValue(name, value) {\r\n  if (value == null || typeof value === \"boolean\" || value === \"\")\r\n    return \"\";\r\n  if (typeof value === \"number\" && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name]))\r\n    return value + \"px\";\r\n  return (\"\" + value).trim();\r\n}\r\nconst attributeCache = {};\r\nfunction applyAnimatedValues(instance, props) {\r\n  if (!instance.nodeType || !instance.setAttribute) {\r\n    return false;\r\n  }\r\n  const isFilterElement = instance.nodeName === \"filter\" || instance.parentNode && instance.parentNode.nodeName === \"filter\";\r\n  const {style, children, scrollTop, scrollLeft, ...attributes} = props;\r\n  const values = Object.values(attributes);\r\n  const names = Object.keys(attributes).map((name) => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, (n) => \"-\" + n.toLowerCase())));\r\n  if (children !== void 0) {\r\n    instance.textContent = children;\r\n  }\r\n  for (let name in style) {\r\n    if (style.hasOwnProperty(name)) {\r\n      const value = dangerousStyleValue(name, style[name]);\r\n      if (name === \"float\")\r\n        name = \"cssFloat\";\r\n      else if (isCustomPropRE.test(name)) {\r\n        instance.style.setProperty(name, value);\r\n      } else {\r\n        instance.style[name] = value;\r\n      }\r\n    }\r\n  }\r\n  names.forEach((name, i) => {\r\n    instance.setAttribute(name, values[i]);\r\n  });\r\n  if (scrollTop !== void 0) {\r\n    instance.scrollTop = scrollTop;\r\n  }\r\n  if (scrollLeft !== void 0) {\r\n    instance.scrollLeft = scrollLeft;\r\n  }\r\n}\r\nlet isUnitlessNumber = {\r\n  animationIterationCount: true,\r\n  borderImageOutset: true,\r\n  borderImageSlice: true,\r\n  borderImageWidth: true,\r\n  boxFlex: true,\r\n  boxFlexGroup: true,\r\n  boxOrdinalGroup: true,\r\n  columnCount: true,\r\n  columns: true,\r\n  flex: true,\r\n  flexGrow: true,\r\n  flexPositive: true,\r\n  flexShrink: true,\r\n  flexNegative: true,\r\n  flexOrder: true,\r\n  gridRow: true,\r\n  gridRowEnd: true,\r\n  gridRowSpan: true,\r\n  gridRowStart: true,\r\n  gridColumn: true,\r\n  gridColumnEnd: true,\r\n  gridColumnSpan: true,\r\n  gridColumnStart: true,\r\n  fontWeight: true,\r\n  lineClamp: true,\r\n  lineHeight: true,\r\n  opacity: true,\r\n  order: true,\r\n  orphans: true,\r\n  tabSize: true,\r\n  widows: true,\r\n  zIndex: true,\r\n  zoom: true,\r\n  fillOpacity: true,\r\n  floodOpacity: true,\r\n  stopOpacity: true,\r\n  strokeDasharray: true,\r\n  strokeDashoffset: true,\r\n  strokeMiterlimit: true,\r\n  strokeOpacity: true,\r\n  strokeWidth: true\r\n};\r\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\r\nconst prefixes = [\"Webkit\", \"Ms\", \"Moz\", \"O\"];\r\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\r\n  prefixes.forEach((prefix) => acc[prefixKey(prefix, prop)] = acc[prop]);\r\n  return acc;\r\n}, isUnitlessNumber);\r\n\r\nconst domTransforms = /^(matrix|translate|scale|rotate|skew)/;\r\nconst pxTransforms = /^(translate)/;\r\nconst degTransforms = /^(rotate|skew)/;\r\nconst addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\r\nconst isValueIdentity = (value, id) => is.arr(value) ? value.every((v) => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\r\nclass AnimatedStyle extends AnimatedObject {\r\n  constructor({x, y, z, ...style}) {\r\n    const inputs = [];\r\n    const transforms = [];\r\n    if (x || y || z) {\r\n      inputs.push([x || 0, y || 0, z || 0]);\r\n      transforms.push((xyz) => [\r\n        `translate3d(${xyz.map((v) => addUnit(v, \"px\")).join(\",\")})`,\r\n        isValueIdentity(xyz, 0)\r\n      ]);\r\n    }\r\n    eachProp(style, (value, key) => {\r\n      if (key === \"transform\") {\r\n        inputs.push([value || \"\"]);\r\n        transforms.push((transform) => [transform, transform === \"\"]);\r\n      } else if (domTransforms.test(key)) {\r\n        delete style[key];\r\n        if (is.und(value))\r\n          return;\r\n        const unit = pxTransforms.test(key) ? \"px\" : degTransforms.test(key) ? \"deg\" : \"\";\r\n        inputs.push(toArray(value));\r\n        transforms.push(key === \"rotate3d\" ? ([x2, y2, z2, deg]) => [\r\n          `rotate3d(${x2},${y2},${z2},${addUnit(deg, unit)})`,\r\n          isValueIdentity(deg, 0)\r\n        ] : (input) => [\r\n          `${key}(${input.map((v) => addUnit(v, unit)).join(\",\")})`,\r\n          isValueIdentity(input, key.startsWith(\"scale\") ? 1 : 0)\r\n        ]);\r\n      }\r\n    });\r\n    if (inputs.length) {\r\n      style.transform = new FluidTransform(inputs, transforms);\r\n    }\r\n    super(style);\r\n  }\r\n}\r\nclass FluidTransform extends FluidValue {\r\n  constructor(inputs, transforms) {\r\n    super();\r\n    this.inputs = inputs;\r\n    this.transforms = transforms;\r\n    this._value = null;\r\n  }\r\n  get() {\r\n    return this._value || (this._value = this._get());\r\n  }\r\n  _get() {\r\n    let transform = \"\";\r\n    let identity = true;\r\n    each(this.inputs, (input, i) => {\r\n      const arg1 = getFluidValue(input[0]);\r\n      const [t, id] = this.transforms[i](is.arr(arg1) ? arg1 : input.map(getFluidValue));\r\n      transform += \" \" + t;\r\n      identity = identity && id;\r\n    });\r\n    return identity ? \"none\" : transform;\r\n  }\r\n  observerAdded(count) {\r\n    if (count == 1)\r\n      each(this.inputs, (input) => each(input, (value) => hasFluidValue(value) && addFluidObserver(value, this)));\r\n  }\r\n  observerRemoved(count) {\r\n    if (count == 0)\r\n      each(this.inputs, (input) => each(input, (value) => hasFluidValue(value) && removeFluidObserver(value, this)));\r\n  }\r\n  eventObserved(event) {\r\n    if (event.type == \"change\") {\r\n      this._value = null;\r\n    }\r\n    callFluidObservers(this, event);\r\n  }\r\n}\r\n\r\nconst primitives = [\r\n  \"a\",\r\n  \"abbr\",\r\n  \"address\",\r\n  \"area\",\r\n  \"article\",\r\n  \"aside\",\r\n  \"audio\",\r\n  \"b\",\r\n  \"base\",\r\n  \"bdi\",\r\n  \"bdo\",\r\n  \"big\",\r\n  \"blockquote\",\r\n  \"body\",\r\n  \"br\",\r\n  \"button\",\r\n  \"canvas\",\r\n  \"caption\",\r\n  \"cite\",\r\n  \"code\",\r\n  \"col\",\r\n  \"colgroup\",\r\n  \"data\",\r\n  \"datalist\",\r\n  \"dd\",\r\n  \"del\",\r\n  \"details\",\r\n  \"dfn\",\r\n  \"dialog\",\r\n  \"div\",\r\n  \"dl\",\r\n  \"dt\",\r\n  \"em\",\r\n  \"embed\",\r\n  \"fieldset\",\r\n  \"figcaption\",\r\n  \"figure\",\r\n  \"footer\",\r\n  \"form\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"head\",\r\n  \"header\",\r\n  \"hgroup\",\r\n  \"hr\",\r\n  \"html\",\r\n  \"i\",\r\n  \"iframe\",\r\n  \"img\",\r\n  \"input\",\r\n  \"ins\",\r\n  \"kbd\",\r\n  \"keygen\",\r\n  \"label\",\r\n  \"legend\",\r\n  \"li\",\r\n  \"link\",\r\n  \"main\",\r\n  \"map\",\r\n  \"mark\",\r\n  \"menu\",\r\n  \"menuitem\",\r\n  \"meta\",\r\n  \"meter\",\r\n  \"nav\",\r\n  \"noscript\",\r\n  \"object\",\r\n  \"ol\",\r\n  \"optgroup\",\r\n  \"option\",\r\n  \"output\",\r\n  \"p\",\r\n  \"param\",\r\n  \"picture\",\r\n  \"pre\",\r\n  \"progress\",\r\n  \"q\",\r\n  \"rp\",\r\n  \"rt\",\r\n  \"ruby\",\r\n  \"s\",\r\n  \"samp\",\r\n  \"script\",\r\n  \"section\",\r\n  \"select\",\r\n  \"small\",\r\n  \"source\",\r\n  \"span\",\r\n  \"strong\",\r\n  \"style\",\r\n  \"sub\",\r\n  \"summary\",\r\n  \"sup\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"td\",\r\n  \"textarea\",\r\n  \"tfoot\",\r\n  \"th\",\r\n  \"thead\",\r\n  \"time\",\r\n  \"title\",\r\n  \"tr\",\r\n  \"track\",\r\n  \"u\",\r\n  \"ul\",\r\n  \"var\",\r\n  \"video\",\r\n  \"wbr\",\r\n  \"circle\",\r\n  \"clipPath\",\r\n  \"defs\",\r\n  \"ellipse\",\r\n  \"foreignObject\",\r\n  \"g\",\r\n  \"image\",\r\n  \"line\",\r\n  \"linearGradient\",\r\n  \"mask\",\r\n  \"path\",\r\n  \"pattern\",\r\n  \"polygon\",\r\n  \"polyline\",\r\n  \"radialGradient\",\r\n  \"rect\",\r\n  \"stop\",\r\n  \"svg\",\r\n  \"text\",\r\n  \"tspan\"\r\n];\r\n\r\nGlobals.assign({\r\n  batchedUpdates: unstable_batchedUpdates,\r\n  createStringInterpolator,\r\n  colors\r\n});\r\nconst host = createHost(primitives, {\r\n  applyAnimatedValues: applyAnimatedValues,\r\n  createAnimatedStyle: (style) => new AnimatedStyle(style),\r\n  getComponentProps: ({scrollTop, scrollLeft, ...props}) => props\r\n});\r\nconst animated = host.animated;\r\n\r\nexport { animated as a, animated };\r\n//# sourceMappingURL=index.js.map\r\n"]},"metadata":{},"sourceType":"module"}